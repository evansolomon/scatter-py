#!/usr/bin/env python

import scatter
import os
import sys


# Do it
deploy_dir = scatter.get_deploy_dir()
deploys = scatter.get_deploy_routines(deploy_dir)

# Check for a custom deploy script
if deploys['custom']:
    print 'Found deploy executable:', deploys['custom']
    os.system(deploys['custom'])

# Check for a Capfile
elif deploys['capfile']:
    print 'Found Capfile:', deploys['capfile']
    os.system('cd ' + deploy_dir + ' && cap deploy && cd -')

# Couldn't figure out what/how to deploy
else:
    sys.exit("Deploy fail :/")
